{"version":3,"sources":["webpack:///./src/api/home.js","webpack:///./src/components/goods-item.vue?f9d7","webpack:///./src/views/category/index.vue","webpack:///./src/components/goods-item.vue","webpack:///./src/components/goods-item.vue?135b","webpack:///./src/views/category/index.vue?05e4","webpack:///./src/views/category/index.vue?0ad9"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findGoods","findSpecial","class","_createElementVNode","href","_createElementBlock","_createVNode","_component_XtxBread","_component_XtxBreadItem","to","_Transition","name","mode","_createBlock","key","$setup","id","_component_XtxCarousel","sliders","style","autoPlay","_hoisted_5","_Fragment","_renderList","children","sub","src","picture","_toDisplayString","_hoisted_9","_component_XtxMore","path","goods","_component_GoodsItem","length","_component_RouterLink","$props","alt","discount","desc","price","props","type","Object","default","__exports__","components","GoodsItem","setup","ref","then","data","value","result","store","useStore","route","useRoute","topCategory","computed","cate","item","state","category","list","find","params","subList","getSubList","findTopCategory","watch","newVal","immediate","render"],"mappings":"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","file":"js/chunk-0acc1fb4.4d655371.js","sourcesContent":["// 定义首页需要的接口函数\r\nimport request from '@/utils/request'\r\n\r\n// 获取品牌\r\nexport const findBrand = (limit = 6) => {\r\n  return request('/home/brand', 'get', { limit })\r\n}\r\n// 获取轮播图广告\r\nexport const findBanner = () => {\r\n  return request('/home/banner', 'get')\r\n}\r\n// 获取新鲜好物数据\r\nexport const findNew = () => {\r\n  return request('home/new', 'get')\r\n}\r\n// 获取热门商品\r\nexport const findHot = () => {\r\n  return request('home/hot', 'get')\r\n}\r\n// 获取商品区块的数据\r\nexport const findGoods = () => {\r\n  return request('home/goods', 'get')\r\n}\r\n// 获取最新专题数据\r\nexport const findSpecial = () => {\r\n  return request('home/special', 'get')\r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-item.vue?vue&type=style&index=0&id=55fc4a68&scoped=true&lang=less\"","<template>\r\n  <div class=\"top-category\">\r\n    <div class=\"container\">\r\n      <!-- 面包屑 -->\r\n      <XtxBread>\r\n        <XtxBreadItem :to=\"'/'\">首页</XtxBreadItem>\r\n        <Transition name=\"fade-right\" mode=\"out-in\">\r\n          <XtxBreadItem :key=\"topCategory.id\">{{\r\n            topCategory.name\r\n          }}</XtxBreadItem>\r\n        </Transition>\r\n      </XtxBread>\r\n      <!-- 轮播图 -->\r\n      <XtxCarousel\r\n        :sliders=\"sliders\"\r\n        style=\"height:500px\"\r\n        autoPlay\r\n      ></XtxCarousel>\r\n      <!-- 所有二级分类 -->\r\n      <div class=\"sub-list\">\r\n        <h3>全部分类</h3>\r\n        <ul>\r\n          <li v-for=\"sub in topCategory.children\" :key=\"sub.id\">\r\n            <a href=\"javascript:;\">\r\n              <img :src=\"sub.picture\" />\r\n              <p>{{ sub.name }}</p>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 各个分类推荐商品 -->\r\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\r\n        <div class=\"head\">\r\n          <h3>- {{ sub.name }} -</h3>\r\n          <p class=\"tag\">温暖柔软，品质之选</p>\r\n          <XtxMore :path=\"`/category/sub/${sub.id}`\" />\r\n        </div>\r\n        <div class=\"body\">\r\n          <GoodsItem\r\n            v-for=\"goods in sub.goods\"\r\n            :key=\"goods.id\"\r\n            :goods=\"goods\"\r\n          />\r\n          <p class=\"goodsNull\" v-if=\"sub.goods.length == 0\">\r\n            - 暂无相关数据 -\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, ref, watch } from 'vue'\r\nimport { findBanner } from '@/api/home'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport GoodsItem from '@/components/goods-item.vue'\r\nimport { findTopCategory } from '@/api/category'\r\nexport default {\r\n  name: 'TopCategory',\r\n  components: {\r\n    GoodsItem\r\n  },\r\n  setup () {\r\n    // 轮播图\r\n    const sliders = ref([])\r\n    findBanner().then(data => {\r\n      sliders.value = data.result\r\n    })\r\n    // 面包屑+所有子分类\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const topCategory = computed(() => {\r\n      let cate = {}\r\n      // 当前顶级分类 === 根据路由上的ID去vuex中category模块的list中查找\r\n      const item = store.state.category.list.find(item => {\r\n        return item.id === route.params.id\r\n      })\r\n      if (item) cate = item\r\n      return cate\r\n    })\r\n    // 获取各个子类目下推荐商品\r\n    const subList = ref([])\r\n\r\n    const getSubList = () => {\r\n      findTopCategory(route.params.id).then(data => {\r\n        subList.value = data.result.children\r\n      })\r\n    }\r\n    watch(\r\n      () => route.params.id,\r\n      newVal => {\r\n        newVal && getSubList()\r\n      },\r\n      { immediate: true }\r\n    )\r\n\r\n    return { sliders, topCategory, subList }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n// 面包屑动画\r\n// 进入:从右侧20px位移到0 并且透明度0\r\n.fade-right-enter-from,\r\n.fade-right-leave-to {\r\n  transform: translateX(20px);\r\n  opacity: 0;\r\n}\r\n.fade-right-enter-active,\r\n.fade-right-leave-active {\r\n  transition: all 0.5s;\r\n}\r\n.fade-right-enter-to,\r\n.fade-right-leave-from {\r\n  transform: none;\r\n  opacity: 1;\r\n}\r\n.top-category {\r\n  h3 {\r\n    font-size: 28px;\r\n    color: #666;\r\n    font-weight: normal;\r\n    text-align: center;\r\n    line-height: 100px;\r\n  }\r\n  .sub-list {\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      padding: 0 32px;\r\n      flex-wrap: wrap;\r\n      li {\r\n        width: 168px;\r\n        height: 160px;\r\n        a {\r\n          text-align: center;\r\n          display: block;\r\n          font-size: 16px;\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n          p {\r\n            line-height: 40px;\r\n          }\r\n          &:hover {\r\n            color: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 推荐商品\r\n  .ref-goods {\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    position: relative;\r\n    .head {\r\n      .xtx-more {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n      }\r\n      .tag {\r\n        text-align: center;\r\n        color: #999;\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -20px;\r\n      }\r\n    }\r\n    .body {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      padding: 0 65px 30px;\r\n      .goodsNull {\r\n        width: 100%;\r\n        text-align: center;\r\n        display: block;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <RouterLink :to=\"`/product/${goods.id}`\" class=\"goods-item\">\r\n    <img :src=\"goods.picture\" alt=\"\" />\r\n    <p class=\"name ellipsis\">{{ goods.name }}{{ goods.discount }}</p>\r\n    <p class=\"desc ellipsis\">{{ goods.desc }}</p>\r\n    <p class=\"price\">&yen;{{ goods.price }}</p>\r\n  </RouterLink>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.goods-item {\r\n  display: block;\r\n  width: 220px;\r\n  padding: 20px 30px;\r\n  text-align: center;\r\n  .hoverShadow();\r\n  img {\r\n    width: 160px;\r\n    height: 160px;\r\n  }\r\n  p {\r\n    padding-top: 10px;\r\n  }\r\n  .name {\r\n    font-size: 16px;\r\n  }\r\n  .desc {\r\n    color: #999;\r\n    height: 29px;\r\n  }\r\n  .price {\r\n    color: @priceColor;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./goods-item.vue?vue&type=template&id=55fc4a68&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=55fc4a68&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\项目案例\\\\rabbit\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-55fc4a68\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=7ebaac04&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7ebaac04&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\项目案例\\\\rabbit\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ebaac04\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=7ebaac04&scoped=true&lang=less\""],"sourceRoot":""}